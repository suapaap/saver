<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>map 예제</title>
    <style>
        table{
            border: 1px solid black;
            border-collapse: collapse;
            text-align: center;
        }
        tr, td, th{
            border: 1px solid black;
        }
    </style>
  </head>
  <body>
    <h1>
      Q1. 데이터를 입력할 인원수를 입력받고, 각 개인의 html, css, js과목의
      점수를 입력하면 각 과목의 점수,총점,평균을 html의 table태그에 출력하기
    </h1>
    <p>
      인원수 : <input type="text" id="peopleNum" />
      <button type="button" id="peopleBtn">실행</button>
    </p>
    <div id="inputArea"></div>
    <button id="sbmBtn">제출</button>
    <div id="printArea">
      <table id="printTable"></table>
    </div>
    <script>
      document.getElementById("peopleBtn").addEventListener("click", generate);
      let people = 0;
      function generate() {
        document.getElementById("inputArea").innerHTML = "";
        people = parseInt(document.getElementById("peopleNum").value);
        for (let i = 0; i < people; i++) {
          document.getElementById(
            "inputArea"
          ).innerHTML += `<input type="text" placeholder="이름을 입력하세요" id="name${i}"><br>
            <input type="number" placeholder="html점수를 입력하세요" id="htsc${i}"><br>
            <input type="number" placeholder="CSS점수를 입력하세요" id="cssc${i}"><br>
            <input type="number" placeholder="JS점수를 입력하세요" id="jssc${i}"><br><br>`;
        }
        document.getElementById("printTable").innerHTML = "";
      }

      document.getElementById("sbmBtn").addEventListener("click", send);
      function send() {  
        document.getElementById(
          "printTable"
        ).innerHTML = `<tr><th>이름</th><th>HTML</th><th>CSS</th><th>JS</th><th>TOTAL</th><th>AVG</th><th>GRADE</th></tr>`;
        for (i = 0; i < people; i++) {
          let name = document.getElementById(`name${i}`).value;
          let html = parseInt(document.getElementById(`htsc${i}`).value);
          let css = parseInt(document.getElementById(`cssc${i}`).value);
          let js = parseInt(document.getElementById(`jssc${i}`).value);
          let sum = (html) + (css) + (js);
          let avg = (sum / 3).toFixed(2);
          let grade = ``;
          switch (Math.floor(avg / 10)) {
            case 9:
              grade = "A";
              break;
            case 8:
              grade = "B";
              break;
            case 7:
              grade = "C";
              break;
            case 6:
              grade = "D";
              break;
            default:
              grade = "F";
              break;
          }
          document.getElementById(
            "printTable"
          ).innerHTML += `<tr><td>${name}</td><td>${html}</td><td>${css}</td><td>${js}</td><td>${sum}</td><td>${avg}</td><td>${grade}</td></tr>`;
        }
      }
    </script>
  </body>
</html>
